var Formstone=window.Formstone=function(t,e,n){"use strict";function s(t){f.Plugins[t].initialized||(f.Plugins[t].methods._setup.call(n),f.Plugins[t].initialized=!0)}function r(t,e,n,s){var r,i={raw:{}};s=s||{};for(r in s)s.hasOwnProperty(r)&&("classes"===t?(i.raw[s[r]]=e+"-"+s[r],i[s[r]]="."+e+"-"+s[r]):(i.raw[r]=s[r],i[r]=s[r]+"."+e));for(r in n)n.hasOwnProperty(r)&&("classes"===t?(i.raw[r]=n[r].replace(/{ns}/g,e),i[r]=n[r].replace(/{ns}/g,"."+e)):(i.raw[r]=n[r].replace(/.{ns}/g,""),i[r]=n[r].replace(/{ns}/g,e)));return i}function i(){var t,e={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},s=["transition","-webkit-transition"],r={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},i="transitionend",o="",a="",l=n.createElement("div");for(t in e)if(e.hasOwnProperty(t)&&t in l.style){i=e[t],f.support.transition=!0;break}m.transitionEnd=i+".{ns}";for(t in s)if(s.hasOwnProperty(t)&&s[t]in l.style){o=s[t];break}f.transition=o;for(t in r)if(r.hasOwnProperty(t)&&r[t]in l.style){f.support.transform=!0,a=r[t];break}f.transform=a}function o(){f.windowWidth=f.$window.width(),f.windowHeight=f.$window.height(),y=d.startTimer(y,w,a)}function a(){for(var t in f.ResizeHandlers)f.ResizeHandlers.hasOwnProperty(t)&&f.ResizeHandlers[t].callback.call(e,f.windowWidth,f.windowHeight)}function l(){if(f.support.raf){f.window.requestAnimationFrame(l);for(var t in f.RAFHandlers)f.RAFHandlers.hasOwnProperty(t)&&f.RAFHandlers[t].callback.call(e)}}function c(t,e){return parseInt(t.priority)-parseInt(e.priority)}var u=function(){this.Version="0.8.19",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=e,this.$window=t(e),this.document=n,this.$document=t(n),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.userAgent=e.navigator.userAgent||e.navigator.vendor||e.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(e.File&&e.FileList&&e.FileReader),history:!!(e.history&&e.history.pushState&&e.history.replaceState),matchMedia:!(!e.matchMedia&&!e.msMatchMedia),pointer:!!e.PointerEvent,raf:!(!e.requestAnimationFrame||!e.cancelAnimationFrame),touch:!!("ontouchstart"in e||e.DocumentTouch&&n instanceof e.DocumentTouch),transition:!1,transform:!1}},d={killEvent:function(t,e){try{t.preventDefault(),t.stopPropagation(),e&&t.stopImmediatePropagation()}catch(n){}},startTimer:function(t,e,n,s){return d.clearTimer(t),s?setInterval(n,e):setTimeout(n,e)},clearTimer:function(t,e){t&&(e?clearInterval(t):clearTimeout(t),t=null)},sortAsc:function(t,e){return parseInt(t,10)-parseInt(e,10)},sortDesc:function(t,e){return parseInt(e,10)-parseInt(t,10)}},f=new u,p=t.Deferred(),h={base:"{ns}",element:"{ns}-element"},m={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};u.prototype.NoConflict=function(){f.DontConflict=!0;for(var e in f.Plugins)f.Plugins.hasOwnProperty(e)&&(t[e]=f.Conflicts[e],t.fn[e]=f.Conflicts.fn[e])},u.prototype.Plugin=function(n,i){return f.Plugins[n]=function(n,s){function i(e){var r,i,o,l="object"===t.type(e),c=this,u=t();for(e=t.extend(!0,{},s.defaults||{},l?e:{}),i=0,o=c.length;o>i;i++)if(r=c.eq(i),!a(r)){var d="__"+s.guid++,f=s.classes.raw.base+d,p=r.data(n+"-options"),h=t.extend(!0,{$el:r,guid:d,rawGuid:f,dotGuid:"."+f},e,"object"===t.type(p)?p:{});r.addClass(s.classes.raw.element).data(g,h),s.methods._construct.apply(r,[h].concat(Array.prototype.slice.call(arguments,l?1:0))),u=u.add(r)}for(i=0,o=u.length;o>i;i++)r=u.eq(i),s.methods._postConstruct.apply(r,[a(r)]);return c}function o(){s.functions.iterate.apply(this,[s.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(s.classes.raw.element).removeData(g)}function a(t){return t.data(g)}function l(e){if(this instanceof t){var n=s.methods[e];return"object"!==t.type(e)&&e?n&&0!==e.indexOf("_")?s.functions.iterate.apply(this,[n].concat(Array.prototype.slice.call(arguments,1))):this:i.apply(this,arguments)}}function u(n){var r=s.utilities[n]||s.utilities._initialize||!1;return r?r.apply(e,Array.prototype.slice.call(arguments,"object"===t.type(n)?0:1)):void 0}function p(e){s.defaults=t.extend(!0,s.defaults,e||{})}function y(e){for(var n=this,s=0,r=n.length;r>s;s++){var i=n.eq(s),o=a(i)||{};"undefined"!==t.type(o.$el)&&e.apply(i,[o].concat(Array.prototype.slice.call(arguments,1)))}return n}var w="fs-"+n,g="fs"+n.replace(/(^|\s)([a-z])/g,function(t,e,n){return e+n.toUpperCase()});return s.initialized=!1,s.priority=s.priority||10,s.classes=r("classes",w,h,s.classes),s.events=r("events",n,m,s.events),s.functions=t.extend({getData:a,iterate:y},d,s.functions),s.methods=t.extend(!0,{_setup:t.noop,_construct:t.noop,_postConstruct:t.noop,_destruct:t.noop,_resize:!1,destroy:o},s.methods),s.utilities=t.extend(!0,{_initialize:!1,_delegate:!1,defaults:p},s.utilities),s.widget&&(f.Conflicts.fn[n]=t.fn[n],t.fn[g]=l,f.DontConflict||(t.fn[n]=t.fn[g])),f.Conflicts[n]=t[n],t[g]=s.utilities._delegate||u,f.DontConflict||(t[n]=t[g]),s.namespace=n,s.namespaceClean=g,s.guid=0,s.methods._resize&&(f.ResizeHandlers.push({namespace:n,priority:s.priority,callback:s.methods._resize}),f.ResizeHandlers.sort(c)),s.methods._raf&&(f.RAFHandlers.push({namespace:n,priority:s.priority,callback:s.methods._raf}),f.RAFHandlers.sort(c)),s}(n,i),p.then(function(){s(n)}),f.Plugins[n]};var y=null,w=20;return f.$window.on("resize.fs",o),o(),l(),t(function(){f.$body=t("body"),p.resolve()}),m.clickTouchStart=m.click+" "+m.touchStart,i(),f}(jQuery,window,document);